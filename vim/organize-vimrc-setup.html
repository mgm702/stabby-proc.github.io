<default!DOCTYPE html>
<html lang="en">
    <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      Organizing Your Vimrc Into Multiple Files &middot; Stabby Proc
    
  </title>

  <link href='https://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Inconsolata:700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/master/devicon.min.css">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?">

  <link rel="alternate" type="application/atom+xml" title="Stabby Proc" href="/atom.xml">
</head>

  <body>
    <div class="container content">
      <header class="masthead">
        <h2 class="masthead-title">
          <a href="/" title="Home">
            <img src="/public/stabby-proc-logo.png"/>
          </a>
        </h2>
        <span class="tagline">- "Taking a stab at this thing called blogging!"</span>
      </header>

      <main>
      <article class="post">
  <h1 class="post-title">Organizing Your Vimrc Into Multiple Files</h1>
    <sub class="article-date">Dec-02-2016</sub>
    <div class="post-tags-list">
      <ul>
        
        <li><a href="http://stabbyproc.com/tags#vimrc" class="post-tag">vimrc</a></li>
        
        <li><a href="http://stabbyproc.com/tags#vim-settings" class="post-tag">vim-settings</a></li>
        
        <li><a href="http://stabbyproc.com/tags#vim-plug" class="post-tag">vim-plug</a></li>
        
      </ul>
    </div>
    <p>This post is about splitting up your vimrc file into smaller more manageable systems. <a href="https://github.com/mgm702/dotfiles/tree/master/vim">My vimrc</a> is easier to organize using this layout, and it allows me to add or remove settings and plugins at will. This is useful when you’re constantly updating and changing your vimrc settings. Sometimes I’ll look through <a href="https://dougblack.io/words/a-good-vimrc.html">popular vimrc files</a> for new and interesting methods or settings to incorporate into my setup that allow me to make quick additions or subtractions.</p>

<p>The first part of setting up a more dynamic vim setup is expanding and sourcing in files into your primary vimrc file. This allows you to break up a large vimrc file into smaller parts that you then control whether they’re sourced into your setup or not. Also, breaking up the file into more modular components allows you to understand parts of the vim setup more easily and quickly. No longer do you have to wonder if the settings you added to your vimrc are meant for a plugin or not, just <a href="https://github.com/mgm702/dotfiles/tree/master/vim/settings">create a new specific plugin file for those settings</a> and source it in. This gives amazing flexibility to the vim configuration system; however, sourcing in vim files can also be dangerous if not well-contained. You don’t want to source a file into your vimrc if it doesn’t exist or is in the incorrect location on your system.</p>

<p>The important component in making this possible is the <code class="highlighter-rouge">filereadable</code> method, which, with the help of the expand method, test a certain path to see if the file actually exists in that location. If it does, then the next step is to <code class="highlighter-rouge">source</code> in the file so it can be used by <a href="https://github.com/mgm702/dotfiles/tree/master/vim">my vimrc</a>:</p>

<figure class="highlight"><pre><code class="language-vim" data-lang="vim"><span class="k">if</span> filereadable<span class="p">(</span>expand<span class="p">(</span><span class="s2">"~/.vim/plugins.vim"</span><span class="p">))</span>
  source <span class="p">~</span><span class="sr">/.vim/</span>plugins<span class="p">.</span><span class="k">vim</span>
<span class="k">endif</span>

<span class="k">if</span> filereadable<span class="p">(</span>expand<span class="p">(</span><span class="s2">"~/.vim/settings.vim"</span><span class="p">))</span>
  source <span class="p">~</span><span class="sr">/.vim/</span>settings<span class="p">.</span><span class="k">vim</span>
<span class="k">endif</span></code></pre></figure>

<p>The benefit of this is that if the file isn’t found on the system, then the vimrc file doesn’t try to source in a file which doesn’t exist where it should be on your computer. This is helpful because if your vimrc tried to source in the file without this safeguard, it would throw an error and everything would blow up!</p>

<p><span class="">
  <img src="https://media.giphy.com/media/xuDHhHcCR0rew/giphy.gif" />
</span></p>

<p>The first thing that I like to organize in <a href="https://github.com/mgm702/dotfiles/tree/master/vim/plugins">my vim setup is my plugins</a>. I work with a variety of languages and I like my plugins to be organized based on my needs during development. The plugin manager I use to install and setup the necessary plugins is <a href="https://github.com/junegunn/vim-plug">vim-plug</a>. This is an amazing tool and you should seriously check it out if you want to <a href="https://github.com/junegunn/vim-plug">leverage on-demand loading</a> for your vim plugins. This helped me greatly reduce my startup time, and it still allows me to work with all my favorite tools in whatever language I choose.</p>

<p>That’s why in the first couple of lines in my <code class="highlighter-rouge">plugins.vim</code> file I focus on loading and configuring <a href="https://github.com/junegunn/vim-plug">vim-plug</a> to help manage my plugins. After that is installed and set up, I change the runtime path, or <code class="highlighter-rouge">rtp</code>, so that vim is able to find all of the plugins pages located in the <code class="highlighter-rouge">plugins</code> directory that I organize based on need and language. This configuration allows me to add and remove plugins quickly based on necessity at the moment. An example of this can be found below where I have commented out the <code class="highlighter-rouge">status_line.plugins</code> file because I’m <a href="https://github.com/mgm702/dotfiles/blob/master/vim/settings/status_line.vim">currently using a simple status line instead</a>.</p>

<figure class="highlight"><pre><code class="language-vim" data-lang="vim"><span class="c">" Load vim-plug</span>
<span class="k">if</span> empty<span class="p">(</span>glob<span class="p">(</span><span class="s2">"~/.vim/autoload/plug.vim"</span><span class="p">))</span>
  execute <span class="s1">'!curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'</span>
<span class="k">endif</span>

<span class="k">call</span> plug#begin<span class="p">(</span><span class="s1">'~/.vim/bundle'</span><span class="p">)</span>

<span class="k">set</span> rtp<span class="p">+=~</span><span class="sr">/.vim/</span>plugins/

runtime <span class="k">ruby</span><span class="p">.</span>plugins
runtime autocomplete<span class="p">.</span>plugins
runtime git<span class="p">.</span>plugins
runtime php<span class="p">.</span>plugins
runtime project<span class="p">.</span>plugins
runtime html<span class="p">.</span>plugins
runtime js<span class="p">.</span>plugins
runtime css<span class="p">.</span>plugins
runtime <span class="k">c</span><span class="p">.</span>plugins
runtime <span class="k">go</span><span class="p">.</span>plugins
runtime <span class="k">c</span><span class="p">.</span>plugins
<span class="c">" runtime status_line.plugins</span>

<span class="k">call</span> plug#<span class="k">end</span><span class="p">()</span></code></pre></figure>

<p>After the plugins are in place, the next thing that I focus on is loading in the vim settings files. I do this by creating a <a href="https://github.com/mgm702/dotfiles/tree/master/vim/settings">settings directory</a> which will hold the smaller, more manageable files such as search, folding, and indentation settings. Then I use a <code class="highlighter-rouge">for</code> loop with the <code class="highlighter-rouge">globpath</code> method, which expands the directory and returns an array of files inside that directory, to find each file in the settings directory. Finally a call to source the file is executed and each of the settings are loaded into my vim configuration.</p>

<figure class="highlight"><pre><code class="language-vim" data-lang="vim"><span class="k">let</span> vimsettings <span class="p">=</span> <span class="s1">'~/.vim/settings'</span>
<span class="k">let</span> uname <span class="p">=</span> system<span class="p">(</span><span class="s2">"uname -s"</span><span class="p">)</span>

<span class="k">for</span> fpath <span class="k">in</span> split<span class="p">(</span>globpath<span class="p">(</span>vimsettings<span class="p">,</span> <span class="s1">'\*.vim'</span><span class="p">),</span> <span class="s1">'\n'</span><span class="p">)</span>
  exe <span class="s1">'source'</span> fpath
<span class="k">endfor</span></code></pre></figure>

<p>And finally you’re ready to go. Now you have a vim setup that is flexible and can adjust based on the language you’re using for development. I hope this setup works for you because it has been a huge benefit for me for a long time. Being able to change and adapt is one of the reasons I love using Vim, and creating my setup like this reflects that. In the next post I will talk more about vim-plug and how I used that among other techniques to solve my vim loading speed problem.</p>

    <a class="twitter-follow-button" href="https://twitter.com/mgm702" data-show-count=false>Follow @mgm702</a>
</article>


<div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'stabbyproccom'; // required: replace example with your forum shortname
        var disqus_developer = 1; // Comment out when the site is live
        var disqus_identifier = "/vim/organize-vimrc-setup.html";

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


      </main>

      <footer class="footer">
  <ul class="category-list">
    <li class="category-list">
      <a href ="/categories#ruby">Ruby</a>
      <a href ="/categories#ubuntu">Ubuntu</a>
      <a href ="/categories#vim">Vim</a>
    </li>
  </ul>
  <ul class="archive-list">
    <li class="archive-link">
      <a href ="/about">About</a>
      <a href="/archive">Archive</a>
    </li>
  </ul>

  <br/>
  <div class="footer-copyright">
    <small>
    &copy; <time datetime="2017-04-05T00:09:50-06:00">2017</time> StabbyProc.com All rights reserved.
    </small>
  </div>
</footer>

<script src="/js/twitter.js" type="text/javascript"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-83001023-1', 'auto');
  ga('send', 'pageview');

</script>


    </div>

  </body>
</html>
